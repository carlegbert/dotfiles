#!/bin/bash

function _..() {
  if [ $# = 0 ]; then
    cd ..
    return 0;
  fi

  re='^[0-9]+$'
  if ! [[ $1 =~ $re  ]] ; then
    echo "error: Not a number" >&2;
    return 1;
  fi

  for _ in $(seq 1 "$1"); do
    cd ..
  done
  return 0;
}

function mkcd() {
  mkdir "$1" || exit 1
  cd "$1" || exit 1
}

function setvol() {
  if [ $# = 0 ]; then
    echo "useage: setvol <number>" >&2;
    return 1;
  fi

  re='^[0-9]+$'
  if ! [[ $1 =~ $re  ]] ; then
    echo "error: Not a number" >&2;
    return 1;
  fi

  amixer -D pulse sset Master "$1%" > /dev/null;
  echo "Volume set to $1";
  return 0;
}

function mkdirpy() {
  if [ $# = 0 ]; then
    echo "useage: mkdirpy <name>";
    return 1;
  fi

  for arg in "$@"; do
    mkdir "$arg";
    touch "$arg/__init__.py";
    echo "created $arg/__init__.py";
  done
}

dcleanup() {
  docker rm -v "$(docker ps --filter status=exited -q 2>/dev/null)"
  docker rmi "$(docker images --filter dangling=true -q 2>/dev/null)"
  docker volume rm "$(docker volume ls -qf danging=true 2>/dev/null)"
}
